{% extends "layouts/base.njk" %}

{% block pageTitle %}
  {{ title }} - Reference Data Management
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-xl">{{ title }}</h1>
      
      <p class="govuk-body">
        This page provides access to reference data lists from the Department for Education.
        These lists are maintained in the <a href="https://github.com/DFE-Digital/dfe-reference-data" class="govuk-link" target="_blank">DFE Reference Data repository</a>.
      </p>
    </div>
  </div>

  {% for category, lists in listsByCategory %}
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-full">
        <h2 class="govuk-heading-l">{{ category }}</h2>
        
        <table class="govuk-table">
          <thead class="govuk-table__head">
            <tr class="govuk-table__row">
              <th scope="col" class="govuk-table__header">Name</th>
              <th scope="col" class="govuk-table__header">Description</th>
              <th scope="col" class="govuk-table__header">Actions</th>
            </tr>
          </thead>
          <tbody class="govuk-table__body">
            {% for list in lists %}
              <tr class="govuk-table__row">
                <td class="govuk-table__cell">
                  <a href="/ref-data/dfe-data/list/{{ list.id }}" class="govuk-link">
                    {{ list.name }}
                  </a>
                </td>
                <td class="govuk-table__cell">{{ list.description }}</td>
                <td class="govuk-table__cell">
                  <a href="/ref-data/dfe-data/list/{{ list.id }}" class="govuk-link">View</a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  {% endfor %}
{% endblock %}
